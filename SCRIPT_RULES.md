# SlideNavi 台本記述ルール

SlideNaviでは、PDFスライドと同期する台本を簡単に作成できます。このドキュメントでは、台本の記述ルールと利用可能な機能について説明します。

## 基本ルール

### スライドの区切り

**`#` で始まる行でスライドを区切ります**

```
# 1枚目のスライド
1行目のメッセージ
2行目のメッセージ

# 2枚目のスライド
3行目のメッセージ
4行目のメッセージ

# 3枚目のスライド
5行目のメッセージ
6行目のメッセージ
```

- `# ` で始まる行がスライドの開始を示します
- `#` の後のテキストがスライドのタイトルになります
- 各セクションが1つのスライドページに対応します
- スライド数とPDFのページ数が一致しない場合は、不足分は空の台本として扱われます

### メッセージの記述

各スライド内では、1行ごとにメッセージを記述します：

```
# ご挨拶
こんにちは
本日はよろしくお願いします
それでは始めさせていただきます
```

- 各行が1つのメッセージとして表示されます
- 自動再生時は、メッセージが1つずつ順番に表示されます
- **空白行はメッセージグループの区切りとして機能します**（詳細は「メッセージグループとクリア機能」を参照）

## 高度な機能

### タイトルの設定

各スライドの `# ` で始まる行がタイトルとして設定されます：

```
# はじめに
このプレゼンテーションの概要を説明します

# 目次
本日お話しする内容は以下の通りです
```


### 長文の自動分割

40文字を超える長文は、句読点で自動的に分割されます：

入力:
```
このシステムには3つの重要な特徴があります。まず第一に高い処理速度、第二に優れた拡張性、第三に堅牢なセキュリティです。
```

表示時:
1. このシステムには3つの重要な特徴があります。
2. まず第一に高い処理速度、
3. 第二に優れた拡張性、
4. 第三に堅牢なセキュリティです。

対応する区切り文字：
- 日本語: `。` `、` `？` `！`
- 英語: `,` `?`

### メッセージグループとクリア機能

**空白行を使ってメッセージグループを区切ることで、自動再生時にメッセージウィンドウをクリアできます。**

```
# プレゼンテーション
最初のメッセージ群
関連する内容

ここでメッセージウィンドウがクリアされます

新しいトピックの開始
別の話題について説明
```

#### 動作の詳細

- **グループ内**: 同じグループ内のメッセージは連続して表示されます
- **グループ間**: 空白行で区切られたグループが切り替わる時、メッセージウィンドウが一度クリアされてから新しいメッセージが表示されます
- **タイプライター効果**: 各グループの開始時もタイプライター効果が適用されます

#### 使用場面の例

- **話題の転換**: プレゼンの大きなトピックが変わる時
- **質問の区切り**: Q&Aセクションで質問が変わる時
- **強調**: 重要なポイントを視覚的に分離したい時

## 実例

### シンプルな例

```
# ご挨拶
こんにちは
本日はお忙しい中お集まりいただき
ありがとうございます

# アジェンダ
本日の内容です
1. 会社紹介
2. 製品デモ
3. 質疑応答
```

### 複数メッセージの例

```
# タイトルスライド
発表を始めます
タイトル：量子コンピュータの未来

# 目次
今回の内容
・理論編
・実装編
・まとめ

# 理論編
詳しく説明していきます
量子ビットの概念から始めましょう
```

### メッセージクリア機能を使った例

```
# 製品紹介
本日は新製品のご紹介です
革新的な技術を搭載しています

次に主要な特徴をご説明します

特徴1：高速処理
従来比3倍の処理速度を実現

特徴2：省エネ設計
消費電力を50%削減しました

以上が主要な特徴です
ご質問はございますか？
```

この例では：
- 最初のグループ：製品の概要紹介
- 2番目のグループ：移行メッセージ（クリア後表示）
- 3番目のグループ：特徴1の説明（クリア後表示）
- 4番目のグループ：特徴2の説明（クリア後表示）
- 5番目のグループ：まとめと質問（クリア後表示）

## 自動再生機能

### 基本動作

- 各メッセージグループは設定した間隔（デフォルト2秒）で順番に表示されます
- 空白行で区切られたグループが切り替わる時、メッセージウィンドウがクリアされます
- すべてのメッセージグループが表示されたら、次のスライドへ移動します
- 最後のスライドまで到達すると自動再生が停止します

#### グループ単位での表示

- **グループ内のメッセージ**: 句読点で分割されたメッセージは連続して表示
- **グループ間の切り替え**: 空白行の区切りでメッセージウィンドウをクリア
- **スライド間の移動**: 新しいスライドに移動する時もメッセージウィンドウがクリア

### タイプライター効果

メッセージは1文字ずつ表示されるタイプライター効果付きです（45ms/文字）

## ベストプラクティス

1. **1つのスライドに多くの内容を詰め込みすぎない**
   - 3-5行程度が適切です

2. **重要なポイントでは適切な間隔を調整**
   - 聴衆の反応を見たい場面では自動再生を一時停止して活用

3. **長文は避ける**
   - 自動分割に頼らず、最初から適切な長さで記述することを推奨

4. **空白行を効果的に活用**
   - 話題が変わる時は空白行でグループを区切る
   - 重要なポイントの前後で空白行を使い、視覚的な強調を作る
   - 1つのグループは2-4行程度に収める

5. **空のスライドも考慮**
   - 図表のみのスライドでも、`#` タグでスライドを区切っておく

### メッセージグループ設計のコツ

- **論理的なまとまり**: 関連する内容は同じグループに
- **適度な間**: 情報が多すぎる場合は複数グループに分割
- **聴衆への配慮**: 重要な情報の前には間を置いてクリアする

## トラブルシューティング

### スライド数が合わない場合

PDFのページ数と台本のセクション数が異なる場合：
- 台本が少ない → 残りのスライドは空の台本として扱われます
- 台本が多い → PDFのページ数を超える台本は無視されます

### メッセージが表示されない場合

- スライドの区切り（`#` で始まる行）が正しく入っているか確認
- メッセージの記述に改行が正しく含まれているか確認

### メッセージクリアが期待通りに動作しない場合

- 空白行が正しく挿入されているか確認（スペースやタブが含まれていると空白行として認識されない）
- メッセージグループが意図した通りに分割されているか確認
- 自動再生モードで動作確認を行う（手動操作時はクリア機能は動作しません）

### 空白行の正しい記述方法

```
# 正しい例
最初のメッセージ

二番目のメッセージ
```

```
# 間違った例（スペースが含まれている）
最初のメッセージ

二番目のメッセージ
```

